<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>关于类型 | 个人主页</title>
    <meta name="description" content="lien的知识库">
    
    
    <link rel="preload" href="/Blog/assets/css/0.styles.a52f7505.css" as="style"><link rel="preload" href="/Blog/assets/js/app.afcacddb.js" as="script"><link rel="preload" href="/Blog/assets/js/2.b2018b7f.js" as="script"><link rel="prefetch" href="/Blog/assets/js/10.c766752f.js"><link rel="prefetch" href="/Blog/assets/js/11.2171cfae.js"><link rel="prefetch" href="/Blog/assets/js/12.cda97187.js"><link rel="prefetch" href="/Blog/assets/js/13.ed8bc43d.js"><link rel="prefetch" href="/Blog/assets/js/14.043b9634.js"><link rel="prefetch" href="/Blog/assets/js/15.104a2003.js"><link rel="prefetch" href="/Blog/assets/js/16.329ea0c4.js"><link rel="prefetch" href="/Blog/assets/js/17.fa26dbb0.js"><link rel="prefetch" href="/Blog/assets/js/18.22f87641.js"><link rel="prefetch" href="/Blog/assets/js/19.22de33e4.js"><link rel="prefetch" href="/Blog/assets/js/20.e6239cac.js"><link rel="prefetch" href="/Blog/assets/js/21.f8eb3d51.js"><link rel="prefetch" href="/Blog/assets/js/3.a91c86fc.js"><link rel="prefetch" href="/Blog/assets/js/4.321e4604.js"><link rel="prefetch" href="/Blog/assets/js/5.b4f9f898.js"><link rel="prefetch" href="/Blog/assets/js/6.2d82ac4a.js"><link rel="prefetch" href="/Blog/assets/js/7.6f37443a.js"><link rel="prefetch" href="/Blog/assets/js/8.0b8a2899.js"><link rel="prefetch" href="/Blog/assets/js/9.2546d8c5.js">
    <link rel="stylesheet" href="/Blog/assets/css/0.styles.a52f7505.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/Blog/" class="home-link router-link-active"><!----> <span class="site-name">个人主页</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/Blog/" class="nav-link">主页</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">知识</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Blog/knowledge/js/" class="nav-link router-link-active">JavaScript</a></li><li class="dropdown-item"><!----> <a href="/Blog/knowledge/css/" class="nav-link">css</a></li><li class="dropdown-item"><!----> <a href="/Blog/knowledge/network/" class="nav-link">网络</a></li><li class="dropdown-item"><!----> <a href="/Blog/knowledge/dataStructure/" class="nav-link">数据结构</a></li></ul></div></div><div class="nav-item"><a href="/Blog/work/" class="nav-link">工程</a></div><div class="nav-item"><a href="/Blog/about/" class="nav-link">关于</a></div><div class="nav-item"><a href="https://github.com/LienJack/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/Blog/" class="nav-link">主页</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">知识</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Blog/knowledge/js/" class="nav-link router-link-active">JavaScript</a></li><li class="dropdown-item"><!----> <a href="/Blog/knowledge/css/" class="nav-link">css</a></li><li class="dropdown-item"><!----> <a href="/Blog/knowledge/network/" class="nav-link">网络</a></li><li class="dropdown-item"><!----> <a href="/Blog/knowledge/dataStructure/" class="nav-link">数据结构</a></li></ul></div></div><div class="nav-item"><a href="/Blog/work/" class="nav-link">工程</a></div><div class="nav-item"><a href="/Blog/about/" class="nav-link">关于</a></div><div class="nav-item"><a href="https://github.com/LienJack/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><div class="sidebar-group first collapsable"><p class="sidebar-heading open"><span>javascript</span> <span class="arrow down"></span></p> <ul class="sidebar-group-items"><li><a href="/Blog/knowledge/js/" class="sidebar-link">首页</a></li><li><a href="/Blog/knowledge/js/1.type.html" class="active sidebar-link">关于类型</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Blog/knowledge/js/1.type.html#类型种类" class="sidebar-link">类型种类</a></li><li class="sidebar-sub-header"><a href="/Blog/knowledge/js/1.type.html#本地对象、内置对象和宿主对象" class="sidebar-link">本地对象、内置对象和宿主对象</a></li><li class="sidebar-sub-header"><a href="/Blog/knowledge/js/1.type.html#类型转换" class="sidebar-link">类型转换</a></li><li class="sidebar-sub-header"><a href="/Blog/knowledge/js/1.type.html#类型判断" class="sidebar-link">类型判断</a></li><li class="sidebar-sub-header"><a href="/Blog/knowledge/js/1.type.html#vs" class="sidebar-link">==vs ===</a></li><li class="sidebar-sub-header"><a href="/Blog/knowledge/js/1.type.html#浅拷贝与深拷贝" class="sidebar-link">浅拷贝与深拷贝</a></li></ul></li><li><a href="/Blog/knowledge/js/1.typeDetail.html" class="sidebar-link">类型详解（可不读）</a></li><li><a href="/Blog/knowledge/js/2.scope.html" class="sidebar-link">作用域</a></li><li><a href="/Blog/knowledge/js/3.this.html" class="sidebar-link">this</a></li><li><a href="/Blog/knowledge/js/4.oop.html" class="sidebar-link">面向对象</a></li><li><a href="/Blog/knowledge/js/5.async.html" class="sidebar-link">异步</a></li></ul></div></li></ul> </div> <div class="page"> <div class="content"><h1 id="关于类型"><a href="#关于类型" aria-hidden="true" class="header-anchor">#</a> 关于类型</h1> <h2 id="类型种类"><a href="#类型种类" aria-hidden="true" class="header-anchor">#</a> 类型种类</h2> <p>JS 中分为七种内置类型，七种内置类型又分为两大类型：基本类型和引用类型</p> <h3 id="基本类型"><a href="#基本类型" aria-hidden="true" class="header-anchor">#</a> 基本类型</h3> <ul><li><a href="/Blog/knowledge/js/1.typeDetail.html#类型string">字符串（string）</a></li> <li><a href="/Blog/knowledge/js/1.typeDetail.html#类型number">数值（number)</a></li> <li><a href="/Blog/knowledge/js/1.typeDetail.html#类型boolean">布尔值（boolean）</a></li> <li><a href="/Blog/knowledge/js/1.typeDetail.html#类型null">null</a></li> <li><a href="/Blog/knowledge/js/1.typeDetail.html#类型undefined">undefined</a></li> <li><a href="/Blog/knowledge/js/1.typeDetail.html#类型symbol">symbol</a></li></ul> <h4 id="特点"><a href="#特点" aria-hidden="true" class="header-anchor">#</a> 特点</h4> <ul><li>基础类型将内容直接存储在栈中（大小固定位置连续的存储空间）</li> <li>记录的是该数据类型的值，即直接访问</li> <li>保存与复制的是值本身</li> <li>方法中定义的变量都是放在栈内存中</li> <li>使用typeof检测数据的类型 ref 类型判断</li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code>a <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
</code></pre></div><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASMAAAC3CAAAAAB8y2cQAAAACXBIWXMAAA7EAAAOxAGVKw4bAAACtUlEQVR42u3aDWoTUQBG0dn/vgouxx1Ua5rMj7E34IM3jucDQ9tAuT2+pAOd5dv3MXu77vdZ3qy2vL3bV/vpwyjGqMeox6jHqMeox6jHqMeox6g33Wj5fFyOX3r+2YydxmhjweiwZfO4+9LHB9vNS5xsdP/p7wi/o8w/RrONbgbrKVkeD88O2KSdwmileGY0+6U23ej+Gvv84PZvlTrFK26+0c1ntVip1kuCua+42e/Zh9/9+8+Xc7wrzT5Hh2vIzZv344n//Xf/44hsXmS7J5yj9+05YvSn3a6PHg/7Jxgdfvyd0f0NaH+JOWfTjf6BMeox6jHqMeox6jHqMeox6jHq/TKyr3fCc3TCHkbdw6h7GHUPo+5h1D2MuodR9zDqHkbdw6h7GHUPo+5h1D2XNRr1193rGo37C/h1jU55job9x13X6HBrzN81DSsa1DPstTbqIF3YaHGOXili1EWMKmnUHcLDro/GvT9e9vpoYA+j7mHUPYy6h1H3MOoeRt3DqHsYdQ+j7mHUPe6HrDlHr/Qw6h5G3cOoexh1D6PuYdQ9jLqHUfcw6h5G3cOoexh1D6PuYdQ9jLqHUfcw6h5G3cOoexh1D6PuYdQ9jLqHUfcw6h5G3cOoexh1D6PuYdQ9jLqHUfcw6h5G3eN+yJpz9EoPo+5h1D2MuodR9zDqHkbdw6h7GHUPo+5h1D2MuodR9zDqHkbdw6h7GHUPo+5h1D2MuodR9zDqHkbdw6h7GHUPo+5h1D2MuodR9zDqHkbdw6h7GHUPo+5h1D3uh6w5R6/0MOoeRt3DqHsYdQ+j7mHUPYy6h1H3MOoeRt3DqHsYdQ+j7mHUPYy6h1H3MOoeRt3DqHsYdQ+j7mHUPYy6h1H3MOoeRt3DqHsYdQ+j7mHUPYy6h1H3MOoeRt3jfsjesHN04e/zA+MWdeVSLs+EAAAAAElFTkSuQmCC" alt="image"></p> <h3 id="引用类型"><a href="#引用类型" aria-hidden="true" class="header-anchor">#</a> 引用类型</h3> <ul><li><a href="/Blog/knowledge/js/1.typeDetail.html#对象object">对象（Object）</a></li> <li><a href="/Blog/knowledge/js/1.typeDetail.html#对象array">数组（Array）</a></li> <li>函数（Function）</li> <li><a href="/Blog/knowledge/js/1.typeDetail.html#对象string">字符串（String）</a></li> <li><a href="/Blog/knowledge/js/1.typeDetail.html#对象date">日期（date）</a></li> <li><a href="/Blog/knowledge/js/1.typeDetail.html#对象regExp">正则（Reg）</a></li> <li><a href="/Blog/knowledge/js/1.typeDetail.html#对象set">Set</a></li> <li>Map</li></ul> <h4 id="特点-2"><a href="#特点-2" aria-hidden="true" class="header-anchor">#</a> 特点</h4> <p>占用空间不固定，保存在堆中这个运行时数据区就是堆内存。堆内存中的对象不会随方法的结束而销毁，即使方法结束后，这个对象还可能被另一个引用变量所引用。</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Object</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><img src="data:image/png;base64,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" alt="image"></p> <ul><li>保存与复制的是指向对象的一个指针</li> <li>使用instanceof检测数据类型 ref 类型判断</li> <li>使用new()方法构造出的对象是引用型 ref new</li></ul> <h2 id="本地对象、内置对象和宿主对象"><a href="#本地对象、内置对象和宿主对象" aria-hidden="true" class="header-anchor">#</a> 本地对象、内置对象和宿主对象</h2> <h3 id="本地对象"><a href="#本地对象" aria-hidden="true" class="header-anchor">#</a> 本地对象</h3> <p>ECMA-262把本地对象（native object）定义为：独立于宿主环境的ECMAScript实现的对象。</p> <p>这里简单说一下JavaScript的应用环境，JavaScript的应用环境由宿主环境和运行期环境构成。宿主环境主要是指外壳程序（shell）和Web浏览器等，运行期环境由JavaScript引擎内建的。</p> <p>现在来看一下本地对象有哪些：</p> <ul><li>Object</li> <li>Function</li> <li>Array</li> <li>String</li> <li>Number</li> <li>Date</li> <li>RegExp</li> <li>Boolean</li> <li>Error</li> <li>EvalError</li> <li>RangeError</li> <li>ReferenceError</li> <li>SyntaxError</li> <li>TypeError</li> <li>URIError</li></ul> <p>由此得出，JS的本地对象就是ECMA-262中定义的类（引用类型）。</p> <h3 id="内置对象"><a href="#内置对象" aria-hidden="true" class="header-anchor">#</a> 内置对象</h3> <p>ECMA-262把内置对象定义为：由ECMAScript提供实现的、独立于宿主环境的所有对象，在ECMAScript程序开始执行时出现。</p> <p>这意味着内置对象都是已经实例化好的，不需要我们再进行实例化了，这里我们首先会想到的就是Math对象。</p> <p>ECMA-262定义的内置对象只有两个：Global和Math。（本地对象和内置对象都是独立于宿主对象，根据定义可以看出来内置对象也是本地对象，在JS中所有的内置对象都是本地对象）。</p> <p>Math对象是我们经常用到的，但是Global就比较少见了。其实我们经常用到Global对象，只是没有用Global这个名字。</p> <p>Global对象是一个比较特殊的对象，它是一个全局对象，在程序中只有一个，它的存在伴随着整个程序的生命周期，全局对象不能通过名字来访问，但是它有一个window属性，这个属性指向它本身。</p> <p>大家也要清楚，在ECMAScript中不存在独立的函数，所有的函数都应该是某个对象的方法。类似于isNaN()、parseInt()、parseFloat()等方法都是Global对象的方法。</p> <h3 id="宿主对象"><a href="#宿主对象" aria-hidden="true" class="header-anchor">#</a> 宿主对象</h3> <p>宿主对象：由ECMAScript实现的宿主环境提供的对象。</p> <p>可能这样不是很好理解，上面已经说过了宿主环境包括Web浏览器，所以我们可以这样理解，浏览器提供的对象都是宿主对象。</p> <p>也可以这样理解，因为本地对象是非宿主环境的对象，那么非本地对象就是宿主对象，即所有的BOM对象和DOM对象都是宿主对象。</p> <p>那么还有一种对象，那就是我们自己定义的对象，也是宿主对象。</p> <p>最简单的理解：ECMAScript官方未定义的对象都属于宿主对象。</p> <h3 id="总结"><a href="#总结" aria-hidden="true" class="header-anchor">#</a> 总结</h3> <p>官方的定义太绕口，还不好理解。说的简单点：</p> <p>本地对象就是ECMAScript中定义好的对象，如String、Date等，内置对象是本地对象中比较特殊的一种，它不用实例化，包括Global和Math，宿主对象就是BOM、DOM和自己定义的对象。</p> <h2 id="类型转换"><a href="#类型转换" aria-hidden="true" class="header-anchor">#</a> 类型转换</h2> <h3 id="定义"><a href="#定义" aria-hidden="true" class="header-anchor">#</a> 定义</h3> <p>编程语言按照数据类型大体可以分为两类，一类是静态类型语言，另一类是动态类型语言。</p> <h4 id="静态类型"><a href="#静态类型" aria-hidden="true" class="header-anchor">#</a> 静态类型</h4> <p>编译时便已确定变量的类型</p> <p><strong>优点</strong></p> <ul><li>编译时就能发现类型不匹配的错误</li> <li>编译器还可以针对这些信息对程序进行一些优化工作，提高程序执行速度</li></ul> <p><strong>缺点</strong></p> <ul><li>让程序员的精力从思考业务逻辑上分散开来</li></ul> <h3 id="动态类型"><a href="#动态类型" aria-hidden="true" class="header-anchor">#</a> 动态类型</h3> <p>动态类型语言的变量类型要到程序运行的时候，待变量被赋予某个值之后，才会具有某种类型</p> <p><strong>优点</strong></p> <ul><li>编写的代码数量更少</li> <li>给实际编码带来了很大的灵活性</li></ul> <p><strong>缺点</strong></p> <h3 id="鸭子类型"><a href="#鸭子类型" aria-hidden="true" class="header-anchor">#</a> 鸭子类型</h3> <p>如果它走起路来像鸭子，叫起来也是鸭子，那么它就是鸭子
例子：Array.from</p> <h3 id="强制类型转换"><a href="#强制类型转换" aria-hidden="true" class="header-anchor">#</a> 强制类型转换</h3> <h4 id="转换为字符串"><a href="#转换为字符串" aria-hidden="true" class="header-anchor">#</a> 转换为字符串</h4> <p>Object.prototype也定义了toString方法，使得所有对象都拥有转换为字符串的能力</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> n <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
n<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// '1'</span>
</code></pre></div><p>还能判断对象的类型 ref：判断对象的类型</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> toString <span class="token operator">=</span> Object<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>toString<span class="token punctuation">;</span>
toString<span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [object Date]</span>
toString<span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [object String]</span>
toString<span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>Math<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [object Math]</span>
toString<span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>undefined<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [object Undefined]</span>
toString<span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [object Null]</span>
toString<span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">MyClass</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// [object Object]</span>
</code></pre></div><h4 id="转换为数字"><a href="#转换为数字" aria-hidden="true" class="header-anchor">#</a> 转换为数字</h4> <p>在JavaScript中可以直接用parseInt和parseFloat</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> iNum1 <span class="token operator">=</span> <span class="token function">parseInt</span><span class="token punctuation">(</span><span class="token string">&quot;12345red&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">//返回 12345</span>
<span class="token keyword">var</span> iNum1 <span class="token operator">=</span> <span class="token function">parseInt</span><span class="token punctuation">(</span><span class="token string">&quot;0xA&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">//返回 10</span>
<span class="token keyword">var</span> iNum1 <span class="token operator">=</span> <span class="token function">parseInt</span><span class="token punctuation">(</span><span class="token string">&quot;56.9&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">//返回 56</span>
<span class="token keyword">var</span> iNum1 <span class="token operator">=</span> <span class="token function">parseInt</span><span class="token punctuation">(</span><span class="token string">&quot;red&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">//返回 NaN</span>
<span class="token keyword">var</span> fNum4 <span class="token operator">=</span> <span class="token function">parseFloat</span><span class="token punctuation">(</span><span class="token string">&quot;11.22.33&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//返回 11.22</span>

</code></pre></div><p>==NaN是JavaScript中唯一一个不等于自己的值。(NaN == NaN) === false==</p> <h3 id="隐形的强制转换"><a href="#隐形的强制转换" aria-hidden="true" class="header-anchor">#</a> 隐形的强制转换</h3> <p>若两运算元的型别不同，当其中一方是字串时，+ 所代表的就是字串运算子，而会将另外一个运算元强制转型为字串，并连接两个字串。如果不是字符串，那么都当成数字</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> a <span class="token operator">=</span> <span class="token string">'1'</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> b <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> c <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> d <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
a <span class="token operator">+</span> <span class="token number">1</span> <span class="token comment">// &quot;11&quot;</span>
b <span class="token operator">+</span> <span class="token number">1</span> <span class="token comment">// 2</span>
b <span class="token operator">+</span> <span class="token string">''</span> <span class="token comment">// &quot;1&quot;</span>
c <span class="token operator">+</span> d <span class="token comment">// &quot;1,23,4&quot;</span>
</code></pre></div><p>c 和 d 分别会使用 toString 转为 '1, 2' 与 '3, 4'</p> <p><strong>重点</strong></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token comment">// &quot;[object Object]&quot;</span>
<span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token operator">+</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token comment">// 0</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token operator">+</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment">//[object Object]</span>
</code></pre></div><ul><li>==[] + {}== 中，[] 先执行valueOf，返回[],然后再执行toString,返回&quot;&quot;, 而 {} 会转为字串 &quot;[object Object]&quot;。</li> <li>=={} + []== 中，{} 被当成空区块而无作用，+[] 被当成强制转型为数字 Number([]) （由于阵列是物件，中间会先使用 toString 转成字空串，导致变成 Number('')）而得到 0。</li> <li>但是为何console.log({} + []) //[object Object]和{}+[] 答案不一样就不知道（需要解决）</li></ul> <p>这里涉及toPrimitive()
<a href="https://blog.csdn.net/suxuelengyin/article/details/82759437" target="_blank" rel="noopener noreferrer">JS原始值转换算法---toPrimitive()<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p><a href="http://www.php.cn/js-tutorial-410318.html" target="_blank" rel="noopener noreferrer">详解ECMAScript7规范中ToPrimitive抽象操作的知识<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p><a href="https://blog.csdn.net/lengyuefengqing/article/details/51780882" target="_blank" rel="noopener noreferrer">js——类型转换原理<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h3 id="转换规则"><a href="#转换规则" aria-hidden="true" class="header-anchor">#</a> 转换规则</h3> <p><img src="/Blog/assets/img/type03.89d2807b.png" alt="image"></p> <h2 id="类型判断"><a href="#类型判断" aria-hidden="true" class="header-anchor">#</a> 类型判断</h2> <h3 id="typeof"><a href="#typeof" aria-hidden="true" class="header-anchor">#</a> typeof</h3> <h4 id="概念"><a href="#概念" aria-hidden="true" class="header-anchor">#</a> 概念</h4> <p>对于Undefined，boolean，number，number，symbol。返回本身
function返回function
null，object和其他返回object（null的理由看类型 <a href="/Blog/knowledge/js/1.typeDetail.html#类型null">null</a>）</p> <table><thead><tr><th>数据类型</th> <th>Type</th></tr></thead> <tbody><tr><td>Undefined</td> <td>“undefined”</td></tr> <tr><td>Null</td> <td>“object”</td></tr> <tr><td>布尔值</td> <td>“boolean”</td></tr> <tr><td>数值</td> <td>“number”</td></tr> <tr><td>字符串</td> <td>“string”</td></tr> <tr><td>Symbol (ECMAScript 6 新增)</td> <td>“symbol”</td></tr> <tr><td>函数对象</td> <td>“function”</td></tr> <tr><td>任何其他对象</td> <td>“object”</td></tr> <tr><td>isNaN</td> <td>“object”</td></tr></tbody></table> <h4 id="题目问题"><a href="#题目问题" aria-hidden="true" class="header-anchor">#</a> 题目问题</h4> <p>第一题：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> y <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> x <span class="token operator">=</span> y <span class="token operator">=</span> <span class="token keyword">typeof</span> x<span class="token punctuation">;</span>
 x<span class="token punctuation">;</span>
</code></pre></div><p>第二题：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token function">f</span><span class="token punctuation">(</span>f<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">typeof</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span> <span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>第三题：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code> <span class="token keyword">var</span> foo <span class="token operator">=</span> <span class="token punctuation">{</span>
    bar<span class="token punctuation">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>baz<span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    baz<span class="token punctuation">:</span> <span class="token number">1</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">typeof</span> arguments<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span>foo<span class="token punctuation">.</span>bar<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>第四题：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code> <span class="token keyword">var</span> foo <span class="token operator">=</span> <span class="token punctuation">{</span>
    bar<span class="token punctuation">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span> <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>baz<span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    baz<span class="token punctuation">:</span> <span class="token number">1</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">typeof</span> <span class="token punctuation">(</span>f <span class="token operator">=</span> foo<span class="token punctuation">.</span>bar<span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>第五题：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> f <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span> <span class="token keyword">return</span> <span class="token string">&quot;1&quot;</span><span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token function">g</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span> <span class="token keyword">return</span> <span class="token number">2</span><span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">typeof</span> f<span class="token punctuation">;</span>
</code></pre></div><p>第六题：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>  <span class="token keyword">var</span> x <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    x <span class="token operator">+=</span> <span class="token keyword">typeof</span> f<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  x<span class="token punctuation">;</span>
</code></pre></div><p>第七题：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code> <span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span>foo<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">typeof</span> foo<span class="token punctuation">.</span>bar<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">{</span> foo<span class="token punctuation">:</span> <span class="token punctuation">{</span> bar<span class="token punctuation">:</span> <span class="token number">1</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="题目答案"><a href="#题目答案" aria-hidden="true" class="header-anchor">#</a> 题目答案</h4> <p>第一题：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> y <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> x <span class="token operator">=</span> y <span class="token operator">=</span> <span class="token keyword">typeof</span> x<span class="token punctuation">;</span>
 x<span class="token punctuation">;</span><span class="token comment">//&quot;undefined&quot;</span>
</code></pre></div><p>表达式是从右往左的，x由于变量提升，类型不是null，而是undefined，所以x=y=”undefined”。</p> <p>第二题：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token function">f</span><span class="token punctuation">(</span>f<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">typeof</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//&quot;number&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span> <span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>传入的参数为f也就是function(){ return 1; }这个函数。通过f()执行后，得到结果1，所以typeof 1返回”number”。这道题很简单，主要是区分f和f()。</p> <p>第三题：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>  <span class="token keyword">var</span> foo <span class="token operator">=</span> <span class="token punctuation">{</span>
    bar<span class="token punctuation">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>baz<span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    baz<span class="token punctuation">:</span> <span class="token number">1</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">typeof</span> arguments<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//&quot;undefined&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span>foo<span class="token punctuation">.</span>bar<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>这一题考察的是this的指向。this永远指向函数执行时的上下文，而不是定义时的（ES6的箭头函数不算）。当arguments执行时，this已经指向了window对象。所以是”undefined”</p> <p>第四题：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code> <span class="token keyword">var</span> foo <span class="token operator">=</span> <span class="token punctuation">{</span>
    bar<span class="token punctuation">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span> <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>baz<span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    baz<span class="token punctuation">:</span> <span class="token number">1</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">typeof</span> <span class="token punctuation">(</span>f <span class="token operator">=</span> foo<span class="token punctuation">.</span>bar<span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//undefined</span>
</code></pre></div><p>如果上面那一题做对了，那么这一题也应该不会错，同样是this的指向问题。</p> <p>第五题：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> f <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span> <span class="token keyword">return</span> <span class="token string">&quot;1&quot;</span><span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token function">g</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span> <span class="token keyword">return</span> <span class="token number">2</span><span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">typeof</span> f<span class="token punctuation">;</span><span class="token comment">//&quot;number&quot;</span>
</code></pre></div><p>如果上面那一题做对了，那么这一题也应该不会错，同样是this的指向问题。</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> f <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span> <span class="token keyword">return</span> <span class="token string">&quot;1&quot;</span><span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token function">g</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span> <span class="token keyword">return</span> <span class="token number">2</span><span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">typeof</span> f<span class="token punctuation">;</span><span class="token comment">//&quot;number&quot;</span>
</code></pre></div><p>这一题比较容易错，因为我在遇到这道题之前也从来没有遇到过javascript的分组选择符。什么叫做分组选择符呢？举一个例子就会明白了：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
document<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//3,会以最后一个为准</span>
</code></pre></div><p>所以上面的题目会返回2，typeof 2当然是”number”啦。</p> <p>第六题：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>  <span class="token keyword">var</span> x <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    x <span class="token operator">+=</span> <span class="token keyword">typeof</span> f<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  x<span class="token punctuation">;</span><span class="token comment">//&quot;1undefined&quot;</span>
</code></pre></div><p>这是一个javascript语言规范上的问题，在条件判断中加入函数声明。这个声明语句本身没有错，也会返回true，但是javascript引擎在搜索的时候却找不到该函数。所以结果为”1undefined”。</p> <p>第七题：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span>foo<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">typeof</span> foo<span class="token punctuation">.</span>bar<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">{</span> foo<span class="token punctuation">:</span> <span class="token punctuation">{</span> bar<span class="token punctuation">:</span> <span class="token number">1</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="instanceof"><a href="#instanceof" aria-hidden="true" class="header-anchor">#</a> instanceof</h3> <h4 id="定义-2"><a href="#定义-2" aria-hidden="true" class="header-anchor">#</a> 定义</h4> <p>instanceof 检测左侧的 <strong>proto</strong> 原型链上，是否存在右侧的 prototype 原型</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">_instanceof</span><span class="token punctuation">(</span><span class="token constant">A</span><span class="token punctuation">,</span> <span class="token constant">B</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> <span class="token constant">O</span> <span class="token operator">=</span> <span class="token constant">B</span><span class="token punctuation">.</span>prototype<span class="token punctuation">;</span><span class="token comment">// 取B的显示原型</span>
    <span class="token constant">A</span> <span class="token operator">=</span> <span class="token constant">A</span><span class="token punctuation">.</span>__proto__<span class="token punctuation">;</span><span class="token comment">// 取A的隐式原型</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">//Object.prototype.__proto__ === null</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token constant">A</span> <span class="token operator">===</span> <span class="token keyword">null</span><span class="token punctuation">)</span>
            <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token constant">O</span> <span class="token operator">===</span> <span class="token constant">A</span><span class="token punctuation">)</span><span class="token comment">// 这里重点：当 O 严格等于 A 时，返回 true</span>
            <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
        <span class="token constant">A</span> <span class="token operator">=</span> <span class="token constant">A</span><span class="token punctuation">.</span>__proto__<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="使用"><a href="#使用" aria-hidden="true" class="header-anchor">#</a> 使用</h4> <div class="language-javascript extra-class"><pre class="language-javascript"><code>Object<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>toString<span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><table><thead><tr><th>数据类型</th> <th>Type</th></tr></thead> <tbody><tr><td>Undefined</td> <td>object Undefined</td></tr> <tr><td>Null</td> <td>object Null</td></tr> <tr><td>布尔值</td> <td>object Boolean</td></tr> <tr><td>数值</td> <td>object Number</td></tr> <tr><td>字符串</td> <td>object String</td></tr> <tr><td>Symbol</td> <td>(ECMAScript 6 新增) object  symbol</td></tr> <tr><td>函数对象</td> <td>object Function</td></tr> <tr><td>Date</td> <td>object Date</td></tr> <tr><td>数组</td> <td>object Array</td></tr> <tr><td>RegExp</td> <td>object RegExp</td></tr></tbody></table> <h4 id="类型判断函数"><a href="#类型判断函数" aria-hidden="true" class="header-anchor">#</a> 类型判断函数</h4> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> <span class="token function-variable function">type</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>o<span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">var</span> s <span class="token operator">=</span> Object<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>toString<span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>o<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> s<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex">/\[object (.*?)\]/</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token punctuation">[</span><span class="token string">'Null'</span><span class="token punctuation">,</span>
 <span class="token string">'Undefined'</span><span class="token punctuation">,</span>
 <span class="token string">'Object'</span><span class="token punctuation">,</span>
 <span class="token string">'Array'</span><span class="token punctuation">,</span>
 <span class="token string">'String'</span><span class="token punctuation">,</span>
 <span class="token string">'Number'</span><span class="token punctuation">,</span>
 <span class="token string">'Boolean'</span><span class="token punctuation">,</span>
 <span class="token string">'Function'</span><span class="token punctuation">,</span>
 <span class="token string">'RegExp'</span>
<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span>t<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  type<span class="token punctuation">[</span><span class="token string">'is'</span> <span class="token operator">+</span> t<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>o<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">type</span><span class="token punctuation">(</span>o<span class="token punctuation">)</span> <span class="token operator">===</span> t<span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

type<span class="token punctuation">.</span><span class="token function">isObject</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token comment">// true</span>
type<span class="token punctuation">.</span><span class="token function">isNumber</span><span class="token punctuation">(</span><span class="token number">NaN</span><span class="token punctuation">)</span> <span class="token comment">// true</span>
type<span class="token punctuation">.</span><span class="token function">isRegExp</span><span class="token punctuation">(</span><span class="token regex">/abc/</span><span class="token punctuation">)</span> <span class="token comment">// true</span>
</code></pre></div><h2 id="vs"><a href="#vs" aria-hidden="true" class="header-anchor">#</a> <code>==</code>vs <code>===</code></h2> <h3 id="两者的异同"><a href="#两者的异同" aria-hidden="true" class="header-anchor">#</a> 两者的异同</h3> <ul><li>比较双方都是对象时，只有指向同一个对象才会相等(包含==/===)</li> <li>===要求比较双方类型相同并且值相等</li> <li>==在比较双方类型不同的时候通常会进行隐式类型转换</li></ul> <h3 id="规律"><a href="#规律" aria-hidden="true" class="header-anchor">#</a> <code>===</code> 规律</h3> <p><img src="/Blog/assets/img/type04.d5923a7d.png" alt="image"></p> <ul><li>如果Type(x)和Type(y)不同，返回false</li> <li>如果Type(x)和Type(y)相同
<ul><li>如果Type(x)是Undefined，返回true</li> <li>如果Type(x)是Null，返回true</li> <li>如果Type(x)是String，当且仅当x,y字符序列完全相同（长度相同，每个位置上的字符也相同）时返回true，否则返回false</li> <li>如果Type(x)是Boolean，如果x,y都是true或x,y都是false返回true，否则返回false</li> <li>如果Type(x)是Symbol，如果x,y是相同的Symbol值，返回true,否则返回false</li> <li>如果Type(x)是Number类型
<ul><li>如果x是NaN，返回false</li> <li>如果y是NaN，返回false</li> <li>如果x的数字值和y相等，返回true</li> <li>如果x是+0，y是-0，返回true</li> <li>如果x是-0，y是+0，返回true</li> <li>其他返回false</li></ul></li></ul></li></ul> <h3 id="规律-2"><a href="#规律-2" aria-hidden="true" class="header-anchor">#</a> <code>==</code> 规律</h3> <p>对象全部类型转换使用Toprimitive（先value，后tostring）<a href="/Blog/knowledge/js/1.type.html#类型转换">类型转换</a>
其他全部toNumber
null == undefined  <a href="/Blog/knowledge/js/1.typeDetail.html#类型undefined">类型undefined</a> <img src="/Blog/assets/img/type05.ab364264.png" alt="image"></p> <ul><li>如果Type(x)和Type(y)相同，返回x===y的结果</li> <li>如果Type(x)和Type(y)不同
<ul><li>如果x是null，y是undefined，返回true</li> <li>如果x是undefined，y是null，返回true</li> <li>如果Type(x)是Number，Type(y)是String，返回 x<code>==</code>ToNumber(y) 的结果</li> <li>如果Type(x)是String，Type(y)是Number，返回 ToNumber(x)<code>==</code>y 的结果</li> <li>如果Type(x)是Boolean，返回 ToNumber(x)<code>==</code>y 的结果</li> <li>如果Type(y)是Boolean，返回 x<code>==</code>ToNumber(y) 的结果</li> <li>如果Type(x)是String或Number或Symbol中的一种并且Type(y)是Object，返回 x<code>==</code>ToPrimitive(y) 的结果</li> <li>如果Type(x)是Object并且Type(y)是String或Number或Symbol中的一种，返回 ToPrimitive(x)<code>==</code>y 的结果
其他返回false</li></ul></li></ul> <p>用yck小册子的图
<a href="https://juejin.im/book/5bdc715fe51d454e755f75ef/section/5bed40d951882545f73004f6" target="_blank" rel="noopener noreferrer">原文链接<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p><img src="/Blog/assets/img/type06.e2d6ba48.png" alt="image"></p> <h2 id="浅拷贝与深拷贝"><a href="#浅拷贝与深拷贝" aria-hidden="true" class="header-anchor">#</a> 浅拷贝与深拷贝</h2> <p>深拷贝和浅拷贝是只针对Object和Array这样的对象数据类型的。</p> <p>深拷贝和浅拷贝的示意图大致如下：</p> <p><a href="/Blog/knowledge/js/1.type.html#值类型">基本类型</a>--名值存储在栈内存中，例如let a=1;</p> <p><img src="data:image/jpeg;base64,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" alt="image"></p> <p>当你b=a复制时，栈内存会新开辟一个内存，例如这样：</p> <p><img src="data:image/jpeg;base64,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" alt="image"></p> <p>所以当你此时修改a=2，对b并不会造成影响，因为此时的b已自食其力，翅膀硬了，不受a的影响了。当然，let a=1,b=a;虽然b不受a影响，但这也算不上深拷贝，因为深拷贝本身只针对较为复杂的object类型数据。</p> <p><a href="/Blog/knowledge/js/1.type.html#引用类型">引用数据类型</a>--名存在栈内存中，值存在于堆内存中，但是栈内存会提供一个引用的地址指向堆内存中的值，我们以上面浅拷贝的例子画个图：
<img src="/Blog/assets/img/typ07_3.564e2124.jpg" alt="image"></p> <p>当b=a进行拷贝时，其实复制的是a的引用地址，而并非堆里面的值。</p> <p><img src="/Blog/assets/img/typ07_4.a7e02cbc.jpg" alt="image"></p> <p>而当我们a[0]=1时进行数组修改时，由于a与b指向的是同一个地址，所以自然b也受了影响，这就是所谓的浅拷贝了。</p> <p><img src="/Blog/assets/img/typ07_5.997cf790.jpg" alt="image"></p> <p>那，要是在堆内存中也开辟一个新的内存专门为b存放值，就像基本类型那样，岂不就达到深拷贝的效果了</p> <p><img src="/Blog/assets/img/typ07_6.42175994.jpg" alt="image"></p> <p>浅拷贝只复制指向某个对象的指针，而不复制对象本身，新旧对象还是共享同一块内存。但深拷贝会另外创造一个一模一样的对象，新对象跟原对象不共享内存，修改新对象不会改到原对象。</p> <h3 id="浅拷贝的实现方式"><a href="#浅拷贝的实现方式" aria-hidden="true" class="header-anchor">#</a> 浅拷贝的实现方式</h3> <h4 id="_1-直接赋值一个变量"><a href="#_1-直接赋值一个变量" aria-hidden="true" class="header-anchor">#</a> 1. 直接赋值一个变量</h4> <div class="language-javascript extra-class"><pre class="language-javascript"><code>  <span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>username<span class="token punctuation">:</span> <span class="token string">'kobe'</span><span class="token punctuation">,</span> age<span class="token punctuation">:</span> <span class="token number">39</span><span class="token punctuation">,</span> sex<span class="token punctuation">:</span> <span class="token punctuation">{</span>option1<span class="token punctuation">:</span> <span class="token string">'男'</span><span class="token punctuation">,</span> option2<span class="token punctuation">:</span> <span class="token string">'女'</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token keyword">let</span> obj1 <span class="token operator">=</span> obj<span class="token punctuation">;</span>
  obj1<span class="token punctuation">.</span>sex<span class="token punctuation">.</span>option1 <span class="token operator">=</span> <span class="token string">'不男不女'</span><span class="token punctuation">;</span> <span class="token comment">// 修改复制的对象会影响原对象</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj1<span class="token punctuation">,</span> obj<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><img src="/Blog/assets/img/type08_1.68d982d0.png" alt="image"></p> <h4 id="_2-object-assign"><a href="#_2-object-assign" aria-hidden="true" class="header-anchor">#</a> 2. Object.assign()</h4> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
    username<span class="token punctuation">:</span> <span class="token string">'kobe'</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> obj2 <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">;</span>
obj2<span class="token punctuation">.</span>username <span class="token operator">=</span> <span class="token string">'wade'</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//{username: &quot;wade&quot;}</span>

</code></pre></div><h4 id="_3-array-prototype-concat"><a href="#_3-array-prototype-concat" aria-hidden="true" class="header-anchor">#</a> 3. Array.prototype.concat()</h4> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    username<span class="token punctuation">:</span> <span class="token string">'kobe'</span>
    <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> arr2<span class="token operator">=</span>arr<span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    
arr2<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">.</span>username <span class="token operator">=</span> <span class="token string">'wade'</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre></div><p>修改新对象会改到原对象:</p> <p><img src="/Blog/assets/img/type08_2.a0235f4b.png" alt="image"></p> <h4 id="_4-array-prototype-slice"><a href="#_4-array-prototype-slice" aria-hidden="true" class="header-anchor">#</a> 4. Array.prototype.slice()</h4> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    username<span class="token punctuation">:</span> <span class="token string">' kobe'</span>
    <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> arr3 <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
arr3<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">.</span>username <span class="token operator">=</span> <span class="token string">'wade'</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre></div><p>同样修改新对象会改到原对象:</p> <p><img src="/Blog/assets/img/type08_3.8eb83c32.png" alt="image"></p> <p>关于Array的slice和concat方法的补充说明：Array的slice和concat方法不修改原数组，只会返回一个浅复制了原数组中的元素的一个新数组。</p> <ul><li>如果该元素是个对象引用(不是实际的对象)，slice 会拷贝这个对象引用到新的数组里。两个对象引用都引用了同一个对象。如果被引用的对象发生改变，则新的和原来的数组中的这个元素也会发生改变</li> <li>对于字符串、数字及布尔值来说（不是 String、Number 或者 Boolean 对象），slice 会拷贝这些值到新的数组里。在别的数组里修改这些字符串或数字或是布尔值，将不会影响另一个数组。</li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    username<span class="token punctuation">:</span> <span class="token string">' kobe'</span>
    <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> arr3 <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
arr3<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">2</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">,</span>arr3<span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre></div><p><img src="/Blog/assets/img/type08_4.7a56146f.png" alt="image"></p> <h3 id="深拷贝的实现方式"><a href="#深拷贝的实现方式" aria-hidden="true" class="header-anchor">#</a> 深拷贝的实现方式</h3> <h4 id="_1-json-parse-json-stringify"><a href="#_1-json-parse-json-stringify" aria-hidden="true" class="header-anchor">#</a> 1.JSON.parse(JSON.stringify())</h4> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    username<span class="token punctuation">:</span> <span class="token string">' kobe'</span>
<span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> arr4 <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
arr4<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">.</span>username <span class="token operator">=</span> <span class="token string">'duncan'</span><span class="token punctuation">;</span> 
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">,</span> arr4<span class="token punctuation">)</span>

</code></pre></div><p><img src="/Blog/assets/img/type08_5.8fa82e7c.png" alt="image"></p> <p>原理： 用JSON.stringify将对象转成JSON字符串，再用JSON.parse()把字符串解析成对象，一去一来，新的对象产生了，而且对象会开辟新的栈，实现深拷贝。</p> <p>这种方法虽然可以实现数组或对象深拷贝,但不能处理函数</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    username<span class="token punctuation">:</span> <span class="token string">' kobe'</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> arr4 <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
arr4<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">.</span>username <span class="token operator">=</span> <span class="token string">'duncan'</span><span class="token punctuation">;</span> 
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">,</span> arr4<span class="token punctuation">)</span>

</code></pre></div><p><img src="/Blog/assets/img/type08_6.fa4fc651.png" alt="image"></p> <p>这是因为JSON.stringify() 方法是将一个JavaScript值(对象或者数组)转换为一个 JSON字符串，不能接受函数</p> <h4 id="手写递归方法"><a href="#手写递归方法" aria-hidden="true" class="header-anchor">#</a> 手写递归方法</h4> <p>递归方法实现深度克隆原理：遍历对象、数组直到里边都是基本数据类型，然后再去复制，就是深度拷贝</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>    <span class="token keyword">function</span> <span class="token function">extend</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
     <span class="token keyword">let</span> name<span class="token punctuation">,</span> options<span class="token punctuation">,</span> copy<span class="token punctuation">,</span> src
     <span class="token keyword">let</span> length <span class="token operator">=</span> arguments<span class="token punctuation">.</span>length
     <span class="token keyword">let</span> target <span class="token operator">=</span> arguments<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">||</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
     <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> i<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span> i<span class="token operator">&lt;</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        options <span class="token operator">=</span> arguments<span class="token punctuation">[</span>i<span class="token punctuation">]</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>options <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">for</span><span class="token punctuation">(</span>name <span class="token keyword">in</span> options<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                copy <span class="token operator">=</span> options<span class="token punctuation">[</span>name<span class="token punctuation">]</span>
                src <span class="token operator">=</span> target<span class="token punctuation">[</span>name<span class="token punctuation">]</span>
                <span class="token keyword">if</span><span class="token punctuation">(</span>copy <span class="token operator">&amp;&amp;</span> <span class="token keyword">typeof</span> copy <span class="token operator">==</span> <span class="token string">'object'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    target<span class="token punctuation">[</span>name<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">extend</span><span class="token punctuation">(</span>src<span class="token punctuation">,</span> copy<span class="token punctuation">)</span>
                <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>copy <span class="token operator">!=</span> undefined<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    target<span class="token punctuation">[</span>name<span class="token punctuation">]</span> <span class="token operator">=</span> copy
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
     <span class="token punctuation">}</span>
     <span class="token keyword">return</span> target
 <span class="token punctuation">}</span>

</code></pre></div><h4 id="深度object拷贝"><a href="#深度object拷贝" aria-hidden="true" class="header-anchor">#</a> 深度Object拷贝</h4> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">extend</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
     <span class="token keyword">let</span> name<span class="token punctuation">,</span> options<span class="token punctuation">,</span> copy<span class="token punctuation">,</span> src
     <span class="token keyword">let</span> length <span class="token operator">=</span> arguments<span class="token punctuation">.</span>length
     <span class="token keyword">let</span> target <span class="token operator">=</span> arguments<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">||</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
     <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> i<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span> i<span class="token operator">&lt;</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        options <span class="token operator">=</span> arguments<span class="token punctuation">[</span>i<span class="token punctuation">]</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>options <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">for</span><span class="token punctuation">(</span>name <span class="token keyword">in</span> options<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                copy <span class="token operator">=</span> options<span class="token punctuation">[</span>name<span class="token punctuation">]</span>
                src <span class="token operator">=</span> target<span class="token punctuation">[</span>name<span class="token punctuation">]</span>
                <span class="token keyword">if</span><span class="token punctuation">(</span>copy <span class="token operator">&amp;&amp;</span> <span class="token keyword">typeof</span> copy <span class="token operator">==</span> <span class="token string">'object'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    target<span class="token punctuation">[</span>name<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">extend</span><span class="token punctuation">(</span>src<span class="token punctuation">,</span> copy<span class="token punctuation">)</span>
                <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>copy <span class="token operator">!=</span> undefined<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    target<span class="token punctuation">[</span>name<span class="token punctuation">]</span> <span class="token operator">=</span> copy
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
     <span class="token punctuation">}</span>
     <span class="token keyword">return</span> target
 <span class="token punctuation">}</span>
</code></pre></div><h4 id="_3-函数库lodash"><a href="#_3-函数库lodash" aria-hidden="true" class="header-anchor">#</a> 3.函数库lodash</h4> <p>该函数库也有提供_.cloneDeep用来做 Deep Copy</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> _ <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'lodash'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> obj1 <span class="token operator">=</span> <span class="token punctuation">{</span>
    a<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    b<span class="token punctuation">:</span> <span class="token punctuation">{</span> f<span class="token punctuation">:</span> <span class="token punctuation">{</span> g<span class="token punctuation">:</span> <span class="token number">1</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    c<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> obj2 <span class="token operator">=</span> _<span class="token punctuation">.</span><span class="token function">cloneDeep</span><span class="token punctuation">(</span>obj1<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj1<span class="token punctuation">.</span>b<span class="token punctuation">.</span>f <span class="token operator">===</span> obj2<span class="token punctuation">.</span>b<span class="token punctuation">.</span>f<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// false</span>

</code></pre></div></div> <div class="page-edit"><!----> <!----></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/Blog/knowledge/js/" class="prev router-link-active">
          首页
        </a></span> <span class="next"><a href="/Blog/knowledge/js/1.typeDetail.html">
          类型详解（可不读）
        </a>
        →
      </span></p></div> </div> <!----></div></div>
    <script src="/Blog/assets/js/app.afcacddb.js" defer></script><script src="/Blog/assets/js/2.b2018b7f.js" defer></script>
  </body>
</html>
